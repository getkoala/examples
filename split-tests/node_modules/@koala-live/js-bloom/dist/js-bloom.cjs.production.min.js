"use strict";function t(){return(t=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function r(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,n=new Array(r);i<r;i++)n[i]=t[i];return n}function i(t,i){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,i){if(t){if("string"==typeof t)return r(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,void 0):void 0}}(t))||i&&t&&"number"==typeof t.length){n&&(t=n);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function t(t,r){this.size=void 0,this.field=void 0,this.size=t,this.field=r,this.size=t,this.field=r||[];var i=Math.floor((t-1)/32+1);if(!r)for(var n=0,e=i-1,o=0<=e;o?n<=e:n>=e;o?n++:n--)this.field[n]=0}var r=t.prototype;return r.add=function(t){return this.set(t,1)},r.remove=function(t){return this.set(t,0)},r.set=function(t,r){if(t>=this.size)throw new Error("BitArray index out of bounds");var i=e(t),n=o(t);return 1===r?this.field[i]=s(this.field[i]|n):0!=(this.field[i]&n)&&(this.field[i]=s(this.field[i]^n)),!0},r.get=function(t){if(t>=this.size)throw new Error("BitArray index out of bounds");var r=e(t),i=o(t);return s(this.field[r]&i)>0?1:0},t}();function e(t){return Math.floor(t/32)}function o(t){return s(1<<t%32)}function s(t){return t<0&&(t+=4294967295),t}function a(){for(var t,r=[],i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;r[i]=t}return r}var h=a(),u=function(t){var r=f(t),i=0;i^=-1;for(var n=0,e=r.length;n<e;)i=i>>>8^h[255&(i^r[n])],n++;return(i^=-1)<0&&(i+=4294967296),i},f=function(t){for(var r=[],i=0;i<t.length;)r.push(t.charCodeAt(i)),++i;return r},d=function(){function r(r){void 0===r&&(r={}),this.options=void 0,this.bits=void 0,this.options=r,this.options=t({size:100,hashes:4,seed:(new Date).getTime()/1e3,bits:null},r),this.bits=new n(this.options.size,this.options.bits)}var e=r.prototype;return e.add=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var n=0,e=r;n<e.length;n++)for(var o=e[n],s=0,a=Array.from(this.indexesFor(o));s<a.length;s++){var h=a[s];this.bits.add(h)}},e.test=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var e=0,o=r;e<o.length;e++)for(var s,a=o[e],h=i(this.indexesFor(a));!(s=h()).done;){var u=s.value;if(0===this.bits.get(u))return!1}return!0},e.toHash=function(){return{size:this.options.size,hashes:this.options.hashes,seed:this.options.seed,bits:this.bits.field}},e.toJson=function(){return JSON.stringify(this.toHash())},e.indexesFor=function(t){for(var r=[],i=0,n=this.options.hashes-1,e=0<=n;e?i<=n:i>=n;e?i++:i--)r.push(u(t+":"+(i+this.options.seed))%this.options.size);return r},r}(),c=Number.MAX_SAFE_INTEGER-1,v={size:100,hashes:4};exports.CountMinSketch=function(){function t(t){void 0===t&&(t={}),this.options=void 0,this.k=void 0,this.m=void 0,this.data=void 0,this.seeds=void 0,this.options=Object.assign({},v,t),this.k=this.options.hashes,this.m=this.options.size,this.data=this.options.data?this.options.data.map((function(t){return Uint32Array.from(t)})):function(t,r){for(var i=new Array(t),n=0;n<t;n++)i[n]=new Uint32Array(r);return i}(this.k,this.m),this.seeds=this.options.seeds||function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=Math.random()*(c+1);return r}(this.k)}var r=t.prototype;return r.count=function(t){return this.add(t,0)},r.add=function(t,r){var i=this;void 0===r&&(r=1);var n=Infinity;return this.seeds.forEach((function(e,o){var s=u(t+":"+(e+o)),a=i.data[o][s%i.m]+=r;a<n&&(n=a)})),n},r.setCount=function(t,r){this.add(t,r-this.count(t))},r.toHash=function(){return Object.assign({},this.options,{data:(t=this.data,t.map((function(t){return Array.from(t)}))),seeds:this.seeds});var t},r.toJSON=function(){return JSON.stringify(this.toHash())},t}(),exports.JsBloom=d;
//# sourceMappingURL=js-bloom.cjs.production.min.js.map
